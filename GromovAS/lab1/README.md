# Практическая работа №1. Обработка изображений с использованием библиотеки OpenCV

---

## 1. `resize_image(image, scale_x=1.0, scale_y=1.0)`
**Назначение**: Изменяет размер изображения методом ближайшего соседа.

**Параметры**:
- `image`: Входное изображение (RGB, NumPy массив).
- `scale_x`, `scale_y` (float, по умолчанию 1.0): Коэффициенты масштабирования по ширине и высоте.

**Логика**:
- Вычисляет новые размеры: `new_h = int(h * scale_y)`, `new_w = int(w * scale_x)`.
- Создает пустой массив результата.
- Копирует пиксели из ближайших координат исходного изображения.

**Выход**: Изображение нового размера (RGB, `uint8`).

---

## 2. `sepia_effect(image)`
**Назначение**: Применяет эффект сепии для винтажного оттенка.

**Параметры**:
- `image`: Входное изображение (RGB, NumPy массив).

**Логика**:
- Использует матрицу сепии для преобразования RGB.
- Преобразует изображение в `float32`, применяет матрицу, обрезает значения до [0, 255].

**Выход**: Изображение с сепией (RGB, `uint8`).

---

## 3. `vignette_effect(image, strength=0.5)`
**Назначение**: Создает эффект виньетки, затемняя края.

**Параметры**:
- `image`: Входное изображение (RGB, NumPy массив).
- `strength` (float, по умолчанию 0.5): Сила затемнения.

**Логика**:
- Создает гауссову маску для затемнения краев.
- Умножает каналы изображения на маску.
- Обрезает значения до [0, 255].

**Выход**: Изображение с виньеткой (RGB, `uint8`).

---

## 4. `pixelate_region(image, x, y, w, h, pixel_size=10)`
**Назначение**: Пикселизирует заданную область изображения.

**Параметры**:
- `image`: Входное изображение (RGB, NumPy массив).
- `x`, `y`, `w`, `h` (int): Координаты и размеры области.
- `pixel_size` (int, по умолчанию 10): Размер блока пикселизации.

**Логика**:
- Разбивает область на блоки `pixel_size x pixel_size`.
- Заменяет каждый блок средним цветом.
- Проверяет границы изображения.

**Выход**: Изображение с пикселизированной областью (RGB, `uint8`).

---

## 5. `add_rectangular_border(image, color=(0,255,0), thickness=30)`
**Назначение**: Добавляет прямоугольную рамку заданного цвета.

**Параметры**:
- `image`: Входное изображение (RGB, NumPy массив).
- `color` (tuple, по умолчанию (0,255,0)): Цвет рамки (зеленый).
- `thickness` (int, по умолчанию 30): Толщина рамки.

**Логика**:
- Создает копию изображения.
- Заполняет края (верх, низ, лево, право) указанным цветом.

**Выход**: Изображение с рамкой (RGB, `uint8`).

---

## 6. `add_shape_border(image, color=(255,0,0), thickness=25, shape_type='ellipse')`
**Назначение**: Добавляет фигурную рамку (эллипс, круг, ромб).

**Параметры**:
- `image`: Входное изображение (RGB, NumPy массив).
- `color` (tuple, по умолчанию (255,0,0)): Цвет рамки (красный).
- `thickness` (int, по умолчанию 25): Толщина рамки.
- `shape_type` (str, по умолчанию 'ellipse'): Тип рамки ('ellipse', 'circle', 'diamond').

**Логика**:
- Создает маску для рамки с помощью уравнений эллипса, круга или ромба.
- Применяет цвет рамки к пикселям маски.

**Выход**: Изображение с фигурной рамкой (RGB, `uint8`).

---

## 7. `lens_flare_effect(img, flare_center=(0.5,0.5), intensity=1.0)`
**Назначение**: Добавляет эффект блика линзы.

**Параметры**:
- `img`: Входное изображение (RGB, NumPy массив).
- `flare_center` (tuple, по умолчанию (0.5,0.5)): Центр блика (нормализованные координаты).
- `intensity` (float, по умолчанию 1.0): Сила блика.

**Логика**:
- Создает гауссову маску для радиального свечения.
- Добавляет желтоватый блик к изображению.
- Обрезает значения до [0, 255].

**Выход**: Изображение с бликом (RGB, `uint8`).

---

## 8. `watercolor_texture(image, scale=12, intensity=0.4)`
**Назначение**: Применяет текстуру акварельной бумаги.

**Параметры**:
- `image`: Входное изображение (RGB, NumPy массив).
- `scale` (int, по умолчанию 12): Размер зерна текстуры.
- `intensity` (float, по умолчанию 0.4): Сила текстуры.

**Логика**:
- Генерирует шум, масштабирует его до размеров изображения.
- Сглаживает шум усредняющим фильтром.
- Применяет текстуру к изображению.

**Выход**: Изображение с текстурой (RGB, `uint8`).

---

## 9. `apply_filter(image, filter_type, *args)`
**Назначение**: Применяет указанный фильтр к изображению.

**Параметры**:
- `image`: Входное изображение (RGB, NumPy массив).
- `filter_type` (str): Тип фильтра ('resize', 'sepia', 'vignette' и т.д.).
- `*args`: Параметры фильтра.

**Логика**:
- Проверяет тип фильтра и вызывает соответствующую функцию.
- Обрабатывает параметры с значениями по умолчанию.
- Вызывает ошибку для неизвестного фильтра.

**Выход**: Изображение с фильтром (RGB, `uint8`).

---

## 10. `main()`
**Назначение**: Обрабатывает аргументы командной строки и отображает результат.

**Параметры**: Нет

**Логика**:
- Проверяет аргументы (путь к изображению, тип фильтра, параметры).
- Загружает изображение через `cv2.imread`.
- Применяет фильтр через `apply_filter`.
- Отображает исходное и обработанное изображения.

**Выход**: Нет (отображает изображения в окнах).

---

## Пример использования
Скрипт запускается из командной строки, указывая путь к изображению, тип фильтра и параметры. Пример команды для применения эффекта сепии:

```bash
python filters.py image.jpg sepia
